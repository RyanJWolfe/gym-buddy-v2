<%# locals: ( f: ) %>

<%= f.hidden_field :category, value: params[:category] if local_assigns[:f] %>

<% content_for :all_muscles_trigger do %>
  <button type="button"
          class="btn btn-tertiary btn-sm w-full"
          data-search-filter-label="category"
          data-search-filter-default-text="All Muscles"
          data-action="click->bottom-sheet#open">
    All Muscles
  </button>
<% end %>

<%= render "shared/bottom_sheet", trigger: :all_muscles_trigger, title: "Muscles" do %>
  <div>
    <%= render "shared/bottom_sheet_item", options: {
      label: "All Muscles",
      action: "click->search#onInput click->bottom-sheet#close",
      classes: "text-primary-text",
      data_attributes: {
        search_target: "filter",
        search_label: "category",
        search_name: "All Muscles",
        search_value: ""
      }
    } %>

    <% @categories.each do |c| %>
      <%= render "shared/bottom_sheet_item", options: {
        label: c.name.titleize,
        action: "click->search#onInput click->bottom-sheet#close",
        data_attributes: {
          search_target: "filter",
          search_label: "category",
          search_name: c.name.titleize,
          search_value: c.name
        }
      } %>
    <% end %>
  </div>
<% end %>