<%# Mobile-only floating indicator for an active (in_progress) workout %>
<% workout = current_user_active_workout %>
<%# The entire bar links to edit page so it's easy to tap on mobile %>
<div class="lg:hidden fixed bottom-4 inset-x-4 z-50" role="region" aria-label="Active workout in progress">
  <%= link_to edit_workout_path(workout), class: "block mx-auto max-w-lg" do %>
    <div class="flex items-center justify-between bg-white border border-gray-200 shadow-md rounded-lg px-4 py-3">
      <div class="flex items-center space-x-3 truncate">
        <div class="flex-shrink-0 bg-indigo-100 rounded-full h-9 w-9 flex items-center justify-center">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-indigo-600" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
            <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 00-1-1H6zm2 7a1 1 0 100 2h4a1 1 0 100-2H8z" clip-rule="evenodd"/>
          </svg>
        </div>
        <div class="truncate">
          <div class="text-sm font-medium text-gray-900 truncate"><%= workout.name %></div>
          <div class="text-xs text-gray-500 truncate">In progress â€¢ <%= workout.date.strftime("%b %d") rescue '' %></div>
        </div>
      </div>

      <div class="flex items-center ml-3">
        <span class="text-indigo-600 text-sm font-medium">Edit</span>
        <%= inline_svg_tag "icons/chevron-right.svg", class: "h-5 w-5 text-indigo-600 ml-1", aria: { hidden: "true" } %>
      </div>
    </div>
  <% end %>
</div>
