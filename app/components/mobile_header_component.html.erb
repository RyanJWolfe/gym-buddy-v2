<nav data-controller="mobile-header" class="md:hidden fixed top-0 inset-x-0 z-50 bg-surface border-b border-surface-border pt-[env(safe-area-inset-top)]" aria-label="<%= @aria_label %>">
  <div class="mx-auto max-w-2xl lg:max-w-4xl px-4 h-14 grid grid-cols-[auto,1fr,auto] items-center gap-3">
    <% if @back_href.present? %>
      <%= link_to @back_href, class: "inline-flex items-center gap-2 text-sm font-medium focus:outline-none focus:underline focus:ring-2 focus:ring-primary-ring" do %>
        <span><%= helpers.inline_svg_tag "icons/chevron-left.svg", class: "w-6 h-6" %></span>
        <% if @back_label %>
          <span class="text-muted"><%= @back_label %></span>
        <% end %>
      <% end %>
    <% else %>
      <div class="w-16" aria-hidden="true"></div>
    <% end %>

    <h1 class="text-base font-semibold text-body-text text-center truncate"><%= @title %></h1>

    <% if action.present? %>
      <div class="justify-self-end text-muted">
        <%= action %>
      </div>
    <% else %>
      <div class="w-16" aria-hidden="true"></div>
    <% end %>
  </div>
</nav>

<div class="md:hidden h-12 pt-[env(safe-area-inset-top)]" aria-hidden="true"></div>
